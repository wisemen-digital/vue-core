{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/@vueuse+router@10.9.0_vue-router@4.3.2_vue@3.4.26/node_modules/@vueuse/router/index.mjs"],
  "sourcesContent": ["import { customRef, nextTick, watch } from 'vue-demi';\nimport { useRoute, useRouter } from 'vue-router';\nimport { tryOnScopeDispose, toValue } from '@vueuse/shared';\n\nlet _hash;\nfunction useRouteHash(defaultValue, {\n  mode = \"replace\",\n  route = useRoute(),\n  router = useRouter()\n} = {}) {\n  _hash = route.hash;\n  tryOnScopeDispose(() => {\n    _hash = void 0;\n  });\n  let _trigger;\n  const proxy = customRef((track, trigger) => {\n    _trigger = trigger;\n    return {\n      get() {\n        track();\n        return _hash || toValue(defaultValue);\n      },\n      set(v) {\n        if (v === _hash)\n          return;\n        _hash = v === null ? void 0 : v;\n        trigger();\n        nextTick(() => {\n          const { params, query } = route;\n          router[toValue(mode)]({ params, query, hash: _hash });\n        });\n      }\n    };\n  });\n  watch(\n    () => route.hash,\n    () => {\n      _hash = route.hash;\n      _trigger();\n    },\n    { flush: \"sync\" }\n  );\n  return proxy;\n}\n\nconst _queue$1 = /* @__PURE__ */ new WeakMap();\nfunction useRouteParams(name, defaultValue, options = {}) {\n  const {\n    mode = \"replace\",\n    route = useRoute(),\n    router = useRouter(),\n    transform = (value) => value\n  } = options;\n  if (!_queue$1.has(router))\n    _queue$1.set(router, /* @__PURE__ */ new Map());\n  const _paramsQueue = _queue$1.get(router);\n  let param = route.params[name];\n  tryOnScopeDispose(() => {\n    param = void 0;\n  });\n  let _trigger;\n  const proxy = customRef((track, trigger) => {\n    _trigger = trigger;\n    return {\n      get() {\n        track();\n        return transform(param !== void 0 ? param : toValue(defaultValue));\n      },\n      set(v) {\n        if (param === v)\n          return;\n        param = v === defaultValue || v === null ? void 0 : v;\n        _paramsQueue.set(name, v === defaultValue || v === null ? void 0 : v);\n        trigger();\n        nextTick(() => {\n          if (_paramsQueue.size === 0)\n            return;\n          const newParams = Object.fromEntries(_paramsQueue.entries());\n          _paramsQueue.clear();\n          const { params, query, hash } = route;\n          router[toValue(mode)]({\n            params: {\n              ...params,\n              ...newParams\n            },\n            query,\n            hash\n          });\n        });\n      }\n    };\n  });\n  watch(\n    () => route.params[name],\n    (v) => {\n      param = v;\n      _trigger();\n    },\n    { flush: \"sync\" }\n  );\n  return proxy;\n}\n\nconst _queue = /* @__PURE__ */ new WeakMap();\nfunction useRouteQuery(name, defaultValue, options = {}) {\n  const {\n    mode = \"replace\",\n    route = useRoute(),\n    router = useRouter(),\n    transform = (value) => value\n  } = options;\n  if (!_queue.has(router))\n    _queue.set(router, /* @__PURE__ */ new Map());\n  const _queriesQueue = _queue.get(router);\n  let query = route.query[name];\n  tryOnScopeDispose(() => {\n    query = void 0;\n  });\n  let _trigger;\n  const proxy = customRef((track, trigger) => {\n    _trigger = trigger;\n    return {\n      get() {\n        track();\n        return transform(query !== void 0 ? query : toValue(defaultValue));\n      },\n      set(v) {\n        if (query === v)\n          return;\n        query = v === defaultValue || v === null ? void 0 : v;\n        _queriesQueue.set(name, v === defaultValue || v === null ? void 0 : v);\n        trigger();\n        nextTick(() => {\n          if (_queriesQueue.size === 0)\n            return;\n          const newQueries = Object.fromEntries(_queriesQueue.entries());\n          _queriesQueue.clear();\n          const { params, query: query2, hash } = route;\n          router[toValue(mode)]({\n            params,\n            query: { ...query2, ...newQueries },\n            hash\n          });\n        });\n      }\n    };\n  });\n  watch(\n    () => route.query[name],\n    (v) => {\n      query = v;\n      _trigger();\n    },\n    { flush: \"sync\" }\n  );\n  return proxy;\n}\n\nexport { useRouteHash, useRouteParams, useRouteQuery };\n"],
  "mappings": "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",
  "names": []
}
